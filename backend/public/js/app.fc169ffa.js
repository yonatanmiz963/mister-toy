(function(t){function e(e){for(var n,a,s=e[0],l=e[1],u=e[2],y=0,p=[];y<s.length;y++)a=s[y],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},r={app:0},i=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("header",[o("div",{staticClass:"header-container common-width flex align-center space-between"},[o("h1",{staticClass:"header-logo"},[t._v("ToyShop")]),o("nav",{},[o("router-link",{attrs:{to:"/toy"}},[t._v("Toys")]),t._v(" | "),o("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),o("router-link",{attrs:{to:"/toy/edit"}},[t._v("Add Toy")])],1)])]),o("router-view"),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"flex align-center justify-center"},[o("h5",[t._v("copyRights")])])}],a={created:function(){this.$store.dispatch({type:"loadToys"})}},s=a,l=o("2877"),u=Object(l["a"])(s,r,i,!1,null,null,null),c=u.exports,y=o("8c4f"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"toy-app flex column"},[o("toy-filter"),t.toysToShow?o("toy-list",{attrs:{toys:t.toysToShow},on:{remove:t.removeToy}}):t._e(),o("div",{staticClass:"paging-btns self-center flex space-between"},[o("button",{on:{click:function(e){return t.setPage(-1)}}},[t._v("Previous")]),o("button",{on:{click:function(e){return t.setPage(1)}}},[t._v("Next")])])],1)},f=[],d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"toy-list"},[o("section",{staticClass:"toy-list-container flex common-width"},t._l(t.toys,(function(e,n){return o("toy-preview",{key:n,attrs:{toy:e},on:{remove:t.remove}})})),1)])},v=[],m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"toy-preview flex align-center column"},[o("h3",[t._v("Name: "+t._s(t.toy.name)+" ")]),o("h3",[t._v("Price: "+t._s(t.toy.price)+" ")]),o("h3",[t._v("Type: "+t._s(t.toy.type)+" ")]),o("h3",[t._v("Status: "+t._s(t.toy.inStock)+" ")]),o("div",{staticClass:"preview-btns flex column align-center"},[o("router-link",{staticClass:"edit-btn",attrs:{to:"/toy/edit/"+t.toy._id}},[t._v("Edit")]),o("router-link",{staticClass:"details-btn",attrs:{to:"/toy/"+t.toy._id}},[t._v("Details")]),o("button",{on:{click:t.remove}},[t._v("Delete")])],1)])},h=[],_={props:["toy"],methods:{remove:function(){this.$emit("remove",this.toy._id)}}},g=_,T=Object(l["a"])(g,m,h,!1,null,null,null),b=T.exports,x={props:["toys"],methods:{remove:function(t){this.$emit("remove",t)}},components:{toyPreview:b}},w=x,E=Object(l["a"])(w,d,v,!1,null,null,null),S=E.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"toy-filter flex justify-center align-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.searchStr,expression:"filterBy.searchStr"}],ref:"filterInput",attrs:{placeholder:"Search a toy",type:"text"},domProps:{value:t.filterBy.searchStr},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"searchStr",e.target.value)},t.setFilter]}}),o("label",[t._v("Status: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.status,expression:"filterBy.status"}],attrs:{value:"All"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterBy,"status",e.target.multiple?o:o[0])},t.setFilter]}},[o("option",{attrs:{value:"All"}},[t._v("All")]),o("option",{attrs:{value:"In stock"}},[t._v("In stock")]),o("option",{attrs:{value:"Out of stock"}},[t._v("Out of stock")])]),o("label",[t._v("Type: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.type,expression:"filterBy.type"}],attrs:{value:"All"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterBy,"type",e.target.multiple?o:o[0])},t.setFilter]}},[o("option",{attrs:{value:"All"}},[t._v("All")]),o("option",{attrs:{value:"Funny"}},[t._v("Funny")]),o("option",{attrs:{value:"Adult"}},[t._v("Adult")]),o("option",{attrs:{value:"Educational"}},[t._v("Educational")])]),o("label",[t._v("Sort by: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.sortBy,expression:"filterBy.sortBy"}],attrs:{value:"None"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterBy,"sortBy",e.target.multiple?o:o[0])},t.setFilter]}},[o("option",{attrs:{value:"Name"}},[t._v("Name")]),o("option",{attrs:{value:"Price"}},[t._v("Price")])])])},B=[],P={data:function(){return{filterBy:{searchStr:"",status:"All",type:"All",sortBy:"Name"}}},created:function(){},methods:{setFilter:function(){this.$store.commit({type:"setFilter",filterBy:JSON.parse(JSON.stringify(this.filterBy))}),this.$store.dispatch({type:"loadToys"})}},computed:{},mounted:function(){this.$refs.filterInput.focus()}},k=P,O=Object(l["a"])(k,$,B,!1,null,null,null),I=O.exports,C={computed:{toysToShow:function(){return this.$store.getters.toysForDisplay}},methods:{removeToy:function(t){this.$store.dispatch({type:"removeToy",toyId:t})},setPage:function(t){var e=t>0?"setNextPage":"setPrevPage";this.$store.commit({type:e})}},components:{toyList:S,toyFilter:I}},N=C,A=Object(l["a"])(N,p,f,!1,null,null,null),j=A.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"toy-edit"},[t.toyToEdit?o("form",{on:{submit:function(e){return e.preventDefault(),t.setToy(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.toyToEdit.name,expression:"toyToEdit.name"}],ref:"input",attrs:{placeholder:"Toy Name?",type:"text"},domProps:{value:t.toyToEdit.name},on:{input:function(e){e.target.composing||t.$set(t.toyToEdit,"name",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.toyToEdit.price,expression:"toyToEdit.price",modifiers:{number:!0}}],attrs:{placeholder:"Price",type:"number"},domProps:{value:t.toyToEdit.price},on:{input:function(e){e.target.composing||t.$set(t.toyToEdit,"price",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.toyToEdit.type,expression:"toyToEdit.type"}],attrs:{placeholder:"Type",type:"text"},domProps:{value:t.toyToEdit.type},on:{input:function(e){e.target.composing||t.$set(t.toyToEdit,"type",e.target.value)}}}),o("button",[t._v("Save")])]):t._e(),o("router-link",{staticClass:"back-btn",attrs:{to:"/toy"}},[t._v("Back")])],1)},D=[],J=(o("d3b7"),o("bc3a")),M="/api/toy",z={query:H,getById:q,remove:L,save:R,getEmptytoy:U};function H(t){return J.get(M,{params:t}).then((function(t){return t.data}))}function q(t){return J.get(M+"/"+t).then((function(t){return t.data}))}function L(t){return J.delete(M+"/"+t).then((function(t){return t.data}))}function R(t){return t._id?J.put(M+"/"+t._id,t).then((function(t){return t.data})):J.post(M,t).then((function(t){return t.data}))}function U(){return Promise.resolve({name:"",price:null,type:"",createdAt:null,inStock:!0})}var G={data:function(){return{toyToEdit:null}},created:function(){this.getToy()},methods:{getToy:function(){var t=this,e=this.$route.params.toyId;e?z.getById(e).then((function(e){t.toyToEdit=e})).then((function(){return t.$refs.input.focus()})):z.getEmptytoy().then((function(e){t.toyToEdit=e})).then((function(){return t.$refs.input.focus()}))},setToy:function(){var t=this;this.toyToEdit._id||(this.toyToEdit.createdAt=Date.now()),this.$store.dispatch({type:"setToy",savedToy:JSON.parse(JSON.stringify(this.toyToEdit))}).then((function(e){t.$router.push("/toy")})).catch((function(t){console.log("err:",t)}))}},computed:{},mounted:function(){}},K=G,Q=Object(l["a"])(K,F,D,!1,null,null,null),V=Q.exports,W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h2",[t._v("Home")])},X=[],Y={},Z=Y,tt=Object(l["a"])(Z,W,X,!1,null,null,null),et=tt.exports,ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.toy?o("section",{staticClass:"toy-details"},[o("h2",[t._v("Name: "+t._s(t.toy.name))]),o("h3",[t._v("Type: "+t._s(t.toy.type))]),o("h3",[t._v("Price: "+t._s(t.toy.price))]),o("h3",[t._v("In stock: "+t._s(t.toy.inStock))]),o("h3",[t._v("Created At: "+t._s(t.toy.createdAt))]),o("router-link",{staticClass:"back-btn",attrs:{to:"/toy"}},[t._v("Back")])],1):t._e()},nt=[],rt={data:function(){return{toy:null}},methods:{getToy:function(t){var e=this;this.$store.dispatch({type:"getToy",toyId:t}).then((function(t){return e.toy=t}))}},computed:{},created:function(){var t=this.$route.params.toyId;this.getToy(t)}},it=rt,at=Object(l["a"])(it,ot,nt,!1,null,null,null),st=at.exports;n["a"].use(y["a"]);var lt=[{path:"/",name:"Home",component:et},{path:"/toy",name:"toyApp",component:j},{path:"/toy/edit/:toyId?",name:"toyEdit",component:V},{path:"/toy/:toyId",name:"toyDetails",component:st}],ut=new y["a"]({mode:"hash",base:"/",routes:lt}),ct=ut,yt=o("2f62"),pt=(o("fb6a"),o("c740"),o("a434"),{state:{toys:null,filterBy:{searchStr:"",status:"All",type:"All",sortBy:"Name"},pageSize:8,pageIdx:0},getters:{toysForDisplay:function(t){if(t.toys){var e=t.pageIdx*t.pageSize,o=t.toys.slice(e,e+t.pageSize);return o}}},mutations:{setToys:function(t,e){var o=e.toys;t.toys=o},removeToy:function(t,e){var o=e.toyId,n=t.toys.findIndex((function(t){return t._id===o}));t.toys.splice(n,1)},setToy:function(t,e){var o=e.savedToy,n=t.toys.findIndex((function(t){return t._id===o._id}));-1===n?t.toys.unshift(o):t.toys.splice(n,1,o)},setFilter:function(t,e){var o=e.filterBy;t.filterBy=o},setPrevPage:function(t){t.pageIdx<=0||t.pageIdx--},setNextPage:function(t){t.pageIdx++}},actions:{loadToys:function(t){return z.query(t.state.filterBy).then((function(e){t.commit({type:"setToys",toys:e})})).catch((function(t){throw console.log("Store: Cannot load toys",t),new Error("Cannot load Toys")}))},removeToy:function(t,e){return z.remove(e.toyId).then((function(){t.commit(e)})).catch((function(t){throw console.log("Store: Cannot remove toy",t),new Error("Cannot remove toy")}))},setToy:function(t,e){var o=e.savedToy;return z.save(o).then((function(e){return t.commit({type:"setToy",savedToy:e}),e})).catch((function(t){throw console.log("Store: Cannot save toy",t),new Error("Cannot save toy")}))},getToy:function(t,e){var o=e.toyId;return z.getById(o)}}});n["a"].use(yt["a"]);var ft=new yt["a"].Store({strict:!0,modules:{toyStore:pt}});o("db78");n["a"].config.productionTip=!1,new n["a"]({router:ct,store:ft,render:function(t){return t(c)}}).$mount("#app")},db78:function(t,e,o){}});
//# sourceMappingURL=app.fc169ffa.js.map